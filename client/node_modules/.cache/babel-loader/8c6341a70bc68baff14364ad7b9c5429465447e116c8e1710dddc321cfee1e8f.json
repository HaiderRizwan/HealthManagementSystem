{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Inspire Uplift\\\\Desktop\\\\web\\\\healthmanagementsystem\\\\Health-Management-System-main\\\\client\\\\src\\\\components\\\\profiles\\\\Admin\\\\AdminViewPatients.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { Card, CardContent, Typography, Grid, Button, AppBar, Toolbar, Box, Avatar, IconButton, Breadcrumbs, Chip, Divider, CircularProgress, Container } from \"@mui/material\";\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport HomeIcon from '@mui/icons-material/Home';\nimport PersonIcon from '@mui/icons-material/Person';\nimport EventNoteIcon from '@mui/icons-material/EventNote';\nimport LocalHospitalIcon from '@mui/icons-material/LocalHospital';\nimport EmailIcon from '@mui/icons-material/Email';\nimport PhoneIcon from '@mui/icons-material/Phone';\nimport CalendarTodayIcon from '@mui/icons-material/CalendarToday';\nimport AdminSidebar from './AdminSidebar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PatientCard({\n  patient\n}) {\n  const getPatientName = () => {\n    if (patient.fullName) {\n      return patient.fullName;\n    }\n    if (patient.firstName && patient.lastName) {\n      return `${patient.firstName} ${patient.lastName}`;\n    }\n    if (patient.firstName) {\n      return patient.firstName;\n    }\n    if (patient.lastName) {\n      return patient.lastName;\n    }\n    if (patient.fullName) {\n      return patient.fullName;\n    }\n    return \"Unknown Patient\";\n  };\n\n  // Calculate age from date of birth\n  const calculateAge = dob => {\n    if (!dob) return \"N/A\";\n    const birthDate = new Date(dob);\n    const today = new Date();\n    let age = today.getFullYear() - birthDate.getFullYear();\n    const monthDiff = today.getMonth() - birthDate.getMonth();\n    if (monthDiff < 0 || monthDiff === 0 && today.getDate() < birthDate.getDate()) {\n      age--;\n    }\n    return age;\n  };\n\n  // Format date of birth to a more readable format\n  const formatDOB = dob => {\n    if (!dob) return \"Not provided\";\n    const date = new Date(dob);\n    return date.toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  // Generate avatar with initials if no profile picture\n  const getInitials = name => {\n    if (!name) return \"?\";\n    const names = name.split(' ');\n    return names.length > 1 ? `${names[0][0]}${names[names.length - 1][0]}`.toUpperCase() : name.substring(0, 2).toUpperCase();\n  };\n\n  // Determine avatar color based on patient ID\n  const getAvatarColor = id => {\n    const colors = ['#1976d2', '#388e3c', '#d32f2f', '#7b1fa2', '#c2185b', '#0288d1', '#303f9f', '#00796b', '#689f38', '#fbc02d', '#455a64', '#e64a19'];\n\n    // Simple hash function to get consistent color for same patient\n    const hash = (id || '').split('').reduce((acc, char) => {\n      return char.charCodeAt(0) + ((acc << 5) - acc);\n    }, 0);\n    return colors[Math.abs(hash) % colors.length];\n  };\n\n  // Get the patient's full name\n  const patientName = getPatientName();\n  return /*#__PURE__*/_jsxDEV(Card, {\n    sx: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      borderRadius: 3,\n      overflow: 'visible',\n      position: 'relative',\n      transition: 'all 0.3s ease',\n      '&:hover': {\n        transform: 'translateY(-5px)',\n        boxShadow: '0 10px 20px rgba(0,0,0,0.1)'\n      }\n    },\n    children: [/*#__PURE__*/_jsxDEV(Chip, {\n      label: patient.status || \"Active\",\n      color: patient.status === \"Inactive\" ? \"error\" : \"success\",\n      size: \"small\",\n      sx: {\n        position: 'absolute',\n        top: 10,\n        right: 10,\n        zIndex: 1\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 3,\n        background: 'linear-gradient(135deg, #f5f7fa 0%, #e4eaed 100%)',\n        borderRadius: '16px 16px 0 0',\n        display: 'flex',\n        alignItems: 'center',\n        gap: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        sx: {\n          width: 80,\n          height: 80,\n          border: '3px solid white',\n          boxShadow: '0 4px 10px rgba(0,0,0,0.1)',\n          bgcolor: getAvatarColor(patient._id)\n        },\n        children: getInitials(patientName)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          fontWeight: \"bold\",\n          color: \"primary.dark\",\n          children: patientName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 1,\n          children: [/*#__PURE__*/_jsxDEV(PersonIcon, {\n            fontSize: \"small\",\n            color: \"action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: [patient.gender || \"Not specified\", \" \\u2022 \", calculateAge(patient.dateOfBirth), \" years\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 1,\n          children: [/*#__PURE__*/_jsxDEV(CalendarTodayIcon, {\n            fontSize: \"small\",\n            color: \"action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: [\"DOB: \", formatDOB(patient.dateOfBirth)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n      sx: {\n        pt: 2,\n        pb: 2,\n        flexGrow: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        mb: 2,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 1,\n          mb: 1,\n          children: [/*#__PURE__*/_jsxDEV(EmailIcon, {\n            fontSize: \"small\",\n            color: \"action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: patient.email || \"No email provided\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 1,\n          children: [/*#__PURE__*/_jsxDEV(PhoneIcon, {\n            fontSize: \"small\",\n            color: \"action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: patient.contactNumber || patient.phone || \"No phone number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        sx: {\n          my: 1.5\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mb: 2,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 1,\n          mb: 1,\n          children: [/*#__PURE__*/_jsxDEV(LocalHospitalIcon, {\n            fontSize: \"small\",\n            color: \"action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Blood Type:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this), \" \", patient.bloodType || \"Not provided\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 1,\n          children: [/*#__PURE__*/_jsxDEV(EventNoteIcon, {\n            fontSize: \"small\",\n            color: \"action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Last Visit:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this), \" \", patient.lastVisit ? new Date(patient.lastVisit).toLocaleDateString() : \"No visits recorded\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 2,\n        pt: 0\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 1,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            component: Link,\n            to: `/patients/${patient._id}`,\n            variant: \"contained\",\n            color: \"primary\",\n            fullWidth: true,\n            sx: {\n              borderRadius: 2\n            },\n            children: \"View Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            component: Link,\n            to: `/patients/${patient._id}/history`,\n            variant: \"outlined\",\n            color: \"primary\",\n            fullWidth: true,\n            sx: {\n              borderRadius: 2\n            },\n            children: \"Medical History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n_c = PatientCard;\nfunction ViewPatients() {\n  _s();\n  const [patientsData, setPatientsData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n  const fetchPatientData = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const userRes = await fetch(\"http://localhost:5000/fetch_user?role=Patient\");\n      if (!userRes.ok) {\n        throw new Error(`Failed to fetch patients: ${userRes.status} ${userRes.statusText}`);\n      }\n      const userData = await userRes.json();\n      console.log(\"Fetched user data:\", userData);\n\n      // Get detailed patient data for each user\n      const patientData = await Promise.all(userData.map(async user => {\n        try {\n          const res = await fetch(`http://localhost:5000/fetch_patient/${user._id}`);\n          if (!res.ok) return {};\n          const patientDetails = await res.json();\n          console.log(`Patient details for ${user._id}:`, patientDetails);\n          return patientDetails;\n        } catch (err) {\n          console.error(`Error fetching details for patient ${user._id}:`, err);\n          return {};\n        }\n      }));\n\n      // Combine user data with patient details\n      const populatedData = userData.map((user, index) => {\n        // If user data has a name property that contains a full name\n        const fullName = user.fullName && typeof user.fullName === 'string' ? user.name : user.firstName && user.lastName ? `${user.firstName} ${user.lastName}` : user.firstName || user.lastName || \"Unknown\";\n        return {\n          ...user,\n          ...patientData[index],\n          fullName: fullName\n        };\n      });\n      console.log(\"Final patient data:\", populatedData);\n      setPatientsData(populatedData);\n    } catch (error) {\n      console.error(\"Error fetching patients:\", error);\n      setError(`Failed to load patients: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchPatientData();\n  }, []);\n  const handleBack = () => {\n    navigate('/AdminProfile');\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      minHeight: \"100vh\",\n      bgcolor: \"#f5f7fa\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      sx: {\n        bgcolor: \"#2563eb\",\n        zIndex: theme => theme.zIndex.drawer + 1\n      },\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          sx: {\n            flexGrow: 1\n          },\n          children: \"Patients Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"xl\",\n      sx: {\n        mt: 4,\n        mb: 4,\n        flexGrow: 1\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(AdminSidebar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 9,\n          lg: 10,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              p: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(Breadcrumbs, {\n              separator: \"\\u203A\",\n              \"aria-label\": \"breadcrumb\",\n              sx: {\n                mb: 3\n              },\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: \"/AdminProfile\",\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  color: '#2d90d2',\n                  textDecoration: 'none'\n                },\n                children: [/*#__PURE__*/_jsxDEV(HomeIcon, {\n                  sx: {\n                    mr: 0.5\n                  },\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 19\n                }, this), \"Admin Dashboard\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                color: \"text.primary\",\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center'\n                },\n                children: \"Patients\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 4,\n                p: 2,\n                backgroundColor: 'white',\n                borderRadius: 2,\n                boxShadow: '0 2px 10px rgba(0,0,0,0.05)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"Patient Overview\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 2,\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 6,\n                  md: 3,\n                  children: /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      p: 2,\n                      textAlign: 'center',\n                      bgcolor: '#e3f2fd',\n                      borderRadius: 2\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"h5\",\n                      color: \"primary\",\n                      children: patientsData.length\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 370,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      children: \"Total Patients\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 371,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 6,\n                  md: 3,\n                  children: /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      p: 2,\n                      textAlign: 'center',\n                      bgcolor: '#e8f5e9',\n                      borderRadius: 2\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"h5\",\n                      color: \"success.main\",\n                      children: patientsData.filter(p => p.status !== \"Inactive\").length\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 376,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      children: \"Active Patients\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 379,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 6,\n                  md: 3,\n                  children: /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      p: 2,\n                      textAlign: 'center',\n                      bgcolor: '#fff8e1',\n                      borderRadius: 2\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"h5\",\n                      color: \"warning.main\",\n                      children: patientsData.filter(p => p.lastVisit && new Date(p.lastVisit) > new Date(Date.now() - 30 * 24 * 60 * 60 * 1000)).length\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 384,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      children: \"Recent Visits (30d)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 387,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 6,\n                  md: 3,\n                  children: /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      p: 2,\n                      textAlign: 'center',\n                      bgcolor: '#ffebee',\n                      borderRadius: 2\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"h5\",\n                      color: \"error.main\",\n                      children: patientsData.filter(p => p.status === \"Inactive\").length\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 392,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      children: \"Inactive Patients\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 395,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                justifyContent: 'center',\n                py: 4\n              },\n              children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 17\n            }, this) : error ? /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                textAlign: 'center',\n                py: 4,\n                bgcolor: 'white',\n                borderRadius: 2,\n                boxShadow: '0 2px 10px rgba(0,0,0,0.05)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                color: \"error\",\n                gutterBottom: true,\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"primary\",\n                onClick: fetchPatientData,\n                sx: {\n                  mt: 2\n                },\n                children: \"Try Again\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 17\n            }, this) : patientsData.length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                textAlign: 'center',\n                py: 8,\n                bgcolor: 'white',\n                borderRadius: 2,\n                boxShadow: '0 2px 10px rgba(0,0,0,0.05)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"No patients found.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                color: \"text.secondary\",\n                children: \"There are no patients registered in the system.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 3,\n              children: patientsData.map(patient => /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                md: 4,\n                children: /*#__PURE__*/_jsxDEV(PatientCard, {\n                  patient: patient\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 23\n                }, this)\n              }, patient._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 318,\n    columnNumber: 5\n  }, this);\n}\n_s(ViewPatients, \"KysxY/p8yfWYHihusyO9As/OYgk=\", false, function () {\n  return [useNavigate];\n});\n_c2 = ViewPatients;\nexport default ViewPatients;\nvar _c, _c2;\n$RefreshReg$(_c, \"PatientCard\");\n$RefreshReg$(_c2, \"ViewPatients\");","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","Card","CardContent","Typography","Grid","Button","AppBar","Toolbar","Box","Avatar","IconButton","Breadcrumbs","Chip","Divider","CircularProgress","Container","ArrowBackIcon","HomeIcon","PersonIcon","EventNoteIcon","LocalHospitalIcon","EmailIcon","PhoneIcon","CalendarTodayIcon","AdminSidebar","jsxDEV","_jsxDEV","PatientCard","patient","getPatientName","fullName","firstName","lastName","calculateAge","dob","birthDate","Date","today","age","getFullYear","monthDiff","getMonth","getDate","formatDOB","date","toLocaleDateString","year","month","day","getInitials","name","names","split","length","toUpperCase","substring","getAvatarColor","id","colors","hash","reduce","acc","char","charCodeAt","Math","abs","patientName","sx","height","display","flexDirection","borderRadius","overflow","position","transition","transform","boxShadow","children","label","status","color","size","top","right","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","p","background","alignItems","gap","width","border","bgcolor","_id","variant","fontWeight","fontSize","gender","dateOfBirth","pt","pb","flexGrow","mb","email","contactNumber","phone","my","bloodType","lastVisit","container","spacing","item","xs","component","to","fullWidth","_c","ViewPatients","_s","patientsData","setPatientsData","loading","setLoading","error","setError","navigate","fetchPatientData","userRes","fetch","ok","Error","statusText","userData","json","console","log","patientData","Promise","all","map","user","res","patientDetails","err","populatedData","index","message","handleBack","minHeight","theme","drawer","maxWidth","mt","md","lg","separator","style","textDecoration","mr","backgroundColor","gutterBottom","textAlign","filter","now","justifyContent","py","onClick","sm","_c2","$RefreshReg$"],"sources":["C:/Users/Inspire Uplift/Desktop/web/healthmanagementsystem/Health-Management-System-main/client/src/components/profiles/Admin/AdminViewPatients.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport {\n  Card,\n  CardContent,\n  Typography,\n  Grid,\n  Button,\n  AppBar,\n  Toolbar,\n  Box,\n  Avatar,\n  IconButton,\n  Breadcrumbs,\n  Chip,\n  Divider,\n  CircularProgress,\n  Container\n} from \"@mui/material\";\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport HomeIcon from '@mui/icons-material/Home';\nimport PersonIcon from '@mui/icons-material/Person';\nimport EventNoteIcon from '@mui/icons-material/EventNote';\nimport LocalHospitalIcon from '@mui/icons-material/LocalHospital';\nimport EmailIcon from '@mui/icons-material/Email';\nimport PhoneIcon from '@mui/icons-material/Phone';\nimport CalendarTodayIcon from '@mui/icons-material/CalendarToday';\nimport AdminSidebar from './AdminSidebar';\n\nfunction PatientCard({ patient }) {\n\n  const getPatientName = () => {\n    if (patient.fullName) {\n      return patient.fullName;\n    }\n    \n\n    if (patient.firstName && patient.lastName) {\n      return `${patient.firstName} ${patient.lastName}`;\n    }\n    \n    if (patient.firstName) {\n      return patient.firstName;\n      \n    }\n    \n    if (patient.lastName) {\n      return patient.lastName;\n    }\n    \n    if (patient.fullName) {\n      return patient.fullName;\n    }\n    \n    return \"Unknown Patient\";\n  };\n\n  // Calculate age from date of birth\n  const calculateAge = (dob) => {\n    if (!dob) return \"N/A\";\n    const birthDate = new Date(dob);\n    const today = new Date();\n    let age = today.getFullYear() - birthDate.getFullYear();\n    const monthDiff = today.getMonth() - birthDate.getMonth();\n    \n    if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {\n      age--;\n    }\n    \n    return age;\n  };\n\n  // Format date of birth to a more readable format\n  const formatDOB = (dob) => {\n    if (!dob) return \"Not provided\";\n    const date = new Date(dob);\n    return date.toLocaleDateString('en-US', { \n      year: 'numeric', \n      month: 'long', \n      day: 'numeric' \n    });\n  };\n\n  // Generate avatar with initials if no profile picture\n  const getInitials = (name) => {\n    if (!name) return \"?\";\n    const names = name.split(' ');\n    return names.length > 1 \n      ? `${names[0][0]}${names[names.length - 1][0]}`.toUpperCase()\n      : name.substring(0, 2).toUpperCase();\n  };\n\n  // Determine avatar color based on patient ID\n  const getAvatarColor = (id) => {\n    const colors = [\n      '#1976d2', '#388e3c', '#d32f2f', '#7b1fa2', \n      '#c2185b', '#0288d1', '#303f9f', '#00796b',\n      '#689f38', '#fbc02d', '#455a64', '#e64a19'\n    ];\n    \n    // Simple hash function to get consistent color for same patient\n    const hash = (id || '').split('').reduce((acc, char) => {\n      return char.charCodeAt(0) + ((acc << 5) - acc);\n    }, 0);\n    \n    return colors[Math.abs(hash) % colors.length];\n  };\n\n  // Get the patient's full name\n  const patientName = getPatientName();\n\n  return (\n    <Card sx={{\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      borderRadius: 3,\n      overflow: 'visible',\n      position: 'relative',\n      transition: 'all 0.3s ease',\n      '&:hover': {\n        transform: 'translateY(-5px)',\n        boxShadow: '0 10px 20px rgba(0,0,0,0.1)'\n      }\n    }}>\n      {/* Patient Status Indicator */}\n      <Chip\n        label={patient.status || \"Active\"}\n        color={patient.status === \"Inactive\" ? \"error\" : \"success\"}\n        size=\"small\"\n        sx={{\n          position: 'absolute',\n          top: 10,\n          right: 10,\n          zIndex: 1\n        }}\n      />\n      \n      {/* Patient Info Header */}\n      <Box sx={{ \n        p: 3, \n        background: 'linear-gradient(135deg, #f5f7fa 0%, #e4eaed 100%)',\n        borderRadius: '16px 16px 0 0',\n        display: 'flex',\n        alignItems: 'center',\n        gap: 2 \n      }}>\n        <Avatar\n          sx={{ \n            width: 80, \n            height: 80, \n            border: '3px solid white',\n            boxShadow: '0 4px 10px rgba(0,0,0,0.1)',\n            bgcolor: getAvatarColor(patient._id)\n          }}\n        >\n          {getInitials(patientName)}\n        </Avatar>\n        <Box>\n          <Typography variant=\"h5\" fontWeight=\"bold\" color=\"primary.dark\">\n            {patientName}\n          </Typography>\n          <Box display=\"flex\" alignItems=\"center\" gap={1}>\n            <PersonIcon fontSize=\"small\" color=\"action\" />\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              {patient.gender || \"Not specified\"} • {calculateAge(patient.dateOfBirth)} years\n            </Typography>\n          </Box>\n          <Box display=\"flex\" alignItems=\"center\" gap={1}>\n            <CalendarTodayIcon fontSize=\"small\" color=\"action\" />\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              DOB: {formatDOB(patient.dateOfBirth)}\n            </Typography>\n          </Box>\n        </Box>\n      </Box>\n\n      <CardContent sx={{ pt: 2, pb: 2, flexGrow: 1 }}>\n        {/* Contact Information */}\n        <Box mb={2}>\n          <Box display=\"flex\" alignItems=\"center\" gap={1} mb={1}>\n            <EmailIcon fontSize=\"small\" color=\"action\" />\n            <Typography variant=\"body2\">\n              {patient.email || \"No email provided\"}\n            </Typography>\n          </Box>\n          <Box display=\"flex\" alignItems=\"center\" gap={1}>\n            <PhoneIcon fontSize=\"small\" color=\"action\" />\n            <Typography variant=\"body2\">\n              {patient.contactNumber || patient.phone || \"No phone number\"}\n            </Typography>\n          </Box>\n        </Box>\n        \n        <Divider sx={{ my: 1.5 }} />\n        \n        {/* Medical Information */}\n        <Box mb={2}>\n          <Box display=\"flex\" alignItems=\"center\" gap={1} mb={1}>\n            <LocalHospitalIcon fontSize=\"small\" color=\"action\" />\n            <Typography variant=\"body2\">\n              <strong>Blood Type:</strong> {patient.bloodType || \"Not provided\"}\n            </Typography>\n          </Box>\n          <Box display=\"flex\" alignItems=\"center\" gap={1}>\n            <EventNoteIcon fontSize=\"small\" color=\"action\" />\n            <Typography variant=\"body2\">\n              <strong>Last Visit:</strong> {patient.lastVisit ? new Date(patient.lastVisit).toLocaleDateString() : \"No visits recorded\"}\n            </Typography>\n          </Box>\n        </Box>\n      </CardContent>\n      \n      {/* Action Buttons */}\n      <Box sx={{ p: 2, pt: 0 }}>\n        <Grid container spacing={1}>\n          <Grid item xs={6}>\n            <Button\n              component={Link}\n              to={`/patients/${patient._id}`}\n              variant=\"contained\"\n              color=\"primary\"\n              fullWidth\n              sx={{ borderRadius: 2 }}\n            >\n              View Details\n            </Button>\n          </Grid>\n          <Grid item xs={6}>\n            <Button\n              component={Link}\n              to={`/patients/${patient._id}/history`}\n              variant=\"outlined\"\n              color=\"primary\"\n              fullWidth\n              sx={{ borderRadius: 2 }}\n            >\n              Medical History\n            </Button>\n          </Grid>\n        </Grid>\n      </Box>\n    </Card>\n  );\n}\n\nfunction ViewPatients() {\n  const [patientsData, setPatientsData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n\n  const fetchPatientData = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const userRes = await fetch(\"http://localhost:5000/fetch_user?role=Patient\");\n      \n      if (!userRes.ok) {\n        throw new Error(`Failed to fetch patients: ${userRes.status} ${userRes.statusText}`);\n      }\n      \n      const userData = await userRes.json();\n      console.log(\"Fetched user data:\", userData);\n      \n      // Get detailed patient data for each user\n      const patientData = await Promise.all(\n        userData.map(async (user) => {\n          try {\n            const res = await fetch(`http://localhost:5000/fetch_patient/${user._id}`);\n            if (!res.ok) return {};\n            const patientDetails = await res.json();\n            console.log(`Patient details for ${user._id}:`, patientDetails);\n            return patientDetails;\n          } catch (err) {\n            console.error(`Error fetching details for patient ${user._id}:`, err);\n            return {};\n          }\n        })\n      );\n\n      // Combine user data with patient details\n      const populatedData = userData.map((user, index) => {\n        // If user data has a name property that contains a full name\n        const fullName = user.fullName && typeof user.fullName === 'string' \n          ? user.name \n          : (user.firstName && user.lastName) \n            ? `${user.firstName} ${user.lastName}` \n            : (user.firstName || user.lastName || \"Unknown\");\n        \n        return {\n          ...user,\n          ...patientData[index],\n          fullName: fullName\n        };\n      });\n      \n      console.log(\"Final patient data:\", populatedData);\n      setPatientsData(populatedData);\n    } catch (error) {\n      console.error(\"Error fetching patients:\", error);\n      setError(`Failed to load patients: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => { \n    fetchPatientData(); \n  }, []);\n\n  const handleBack = () => {\n    navigate('/AdminProfile');\n  };\n\n  return (\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", minHeight: \"100vh\", bgcolor: \"#f5f7fa\" }}>\n      <AppBar position=\"static\" sx={{ bgcolor: \"#2563eb\", zIndex: (theme) => theme.zIndex.drawer + 1 }}>\n        <Toolbar>\n          <Typography variant=\"h6\" sx={{ flexGrow: 1 }}>\n            Patients Management\n          </Typography>\n        </Toolbar>\n      </AppBar>\n\n      <Container maxWidth=\"xl\" sx={{ mt: 4, mb: 4, flexGrow: 1 }}>\n        <Grid container spacing={3}>\n          {/* Sidebar */}\n          <AdminSidebar />\n          \n          {/* Main Content */}\n          <Grid item xs={12} md={9} lg={10}>\n            <Box sx={{ p: 3 }}>\n              {/* Breadcrumb navigation */}\n              <Breadcrumbs separator=\"›\" aria-label=\"breadcrumb\" sx={{ mb: 3 }}>\n                <Link \n                  to=\"/AdminProfile\"\n                  style={{ \n                    display: 'flex', \n                    alignItems: 'center',\n                    color: '#2d90d2',\n                    textDecoration: 'none' \n                  }}\n                >\n                  <HomeIcon sx={{ mr: 0.5 }} fontSize=\"small\" />\n                  Admin Dashboard\n                </Link>\n                <Typography color=\"text.primary\" sx={{ display: 'flex', alignItems: 'center' }}>\n                  Patients\n                </Typography>\n              </Breadcrumbs>\n\n              {/* Patient Overview */}\n              <Box \n                sx={{ \n                  mb: 4, \n                  p: 2, \n                  backgroundColor: 'white', \n                  borderRadius: 2,\n                  boxShadow: '0 2px 10px rgba(0,0,0,0.05)'\n                }}\n              >\n                <Typography variant=\"h6\" gutterBottom>\n                  Patient Overview\n                </Typography>\n                <Grid container spacing={2}>\n                  <Grid item xs={6} md={3}>\n                    <Box sx={{ p: 2, textAlign: 'center', bgcolor: '#e3f2fd', borderRadius: 2 }}>\n                      <Typography variant=\"h5\" color=\"primary\">{patientsData.length}</Typography>\n                      <Typography variant=\"body2\">Total Patients</Typography>\n                    </Box>\n                  </Grid>\n                  <Grid item xs={6} md={3}>\n                    <Box sx={{ p: 2, textAlign: 'center', bgcolor: '#e8f5e9', borderRadius: 2 }}>\n                      <Typography variant=\"h5\" color=\"success.main\">\n                        {patientsData.filter(p => p.status !== \"Inactive\").length}\n                      </Typography>\n                      <Typography variant=\"body2\">Active Patients</Typography>\n                    </Box>\n                  </Grid>\n                  <Grid item xs={6} md={3}>\n                    <Box sx={{ p: 2, textAlign: 'center', bgcolor: '#fff8e1', borderRadius: 2 }}>\n                      <Typography variant=\"h5\" color=\"warning.main\">\n                        {patientsData.filter(p => p.lastVisit && new Date(p.lastVisit) > new Date(Date.now() - 30*24*60*60*1000)).length}\n                      </Typography>\n                      <Typography variant=\"body2\">Recent Visits (30d)</Typography>\n                    </Box>\n                  </Grid>\n                  <Grid item xs={6} md={3}>\n                    <Box sx={{ p: 2, textAlign: 'center', bgcolor: '#ffebee', borderRadius: 2 }}>\n                      <Typography variant=\"h5\" color=\"error.main\">\n                        {patientsData.filter(p => p.status === \"Inactive\").length}\n                      </Typography>\n                      <Typography variant=\"body2\">Inactive Patients</Typography>\n                    </Box>\n                  </Grid>\n                </Grid>\n              </Box>\n\n              {/* Patient List */}\n              {loading ? (\n                <Box sx={{ display: 'flex', justifyContent: 'center', py: 4 }}>\n                  <CircularProgress />\n                </Box>\n              ) : error ? (\n                <Box \n                  sx={{ \n                    textAlign: 'center', \n                    py: 4, \n                    bgcolor: 'white', \n                    borderRadius: 2,\n                    boxShadow: '0 2px 10px rgba(0,0,0,0.05)'\n                  }}\n                >\n                  <Typography variant=\"h6\" color=\"error\" gutterBottom>\n                    {error}\n                  </Typography>\n                  <Button \n                    variant=\"contained\" \n                    color=\"primary\" \n                    onClick={fetchPatientData}\n                    sx={{ mt: 2 }}\n                  >\n                    Try Again\n                  </Button>\n                </Box>\n              ) : patientsData.length === 0 ? (\n                <Box \n                  sx={{ \n                    textAlign: 'center', \n                    py: 8, \n                    bgcolor: 'white', \n                    borderRadius: 2,\n                    boxShadow: '0 2px 10px rgba(0,0,0,0.05)'\n                  }}\n                >\n                  <Typography variant=\"h6\" gutterBottom>No patients found.</Typography>\n                  <Typography color=\"text.secondary\">\n                    There are no patients registered in the system.\n                  </Typography>\n                </Box>\n              ) : (\n                <Grid container spacing={3}>\n                  {patientsData.map((patient) => (\n                    <Grid item xs={12} sm={6} md={4} key={patient._id}>\n                      <PatientCard patient={patient} />\n                    </Grid>\n                  ))}\n                </Grid>\n              )}\n            </Box>\n          </Grid>\n        </Grid>\n      </Container>\n    </Box>\n  );\n}\n\nexport default ViewPatients;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}